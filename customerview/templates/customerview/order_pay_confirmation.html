{% extends 'customerview/base.html' %}

{% block content %}
<div class="container mb-5">
    <div class="row justify-content-center mt-1">
        <div class="col-md-8 col-sm-12 p-4 text-center">
            <h1>Payment Submitted!</h1>
            <p>Thank you for your order. Your food is now being prepared and will be delivered to you shortly.</p>
            <p>Estimated delivery time: <span id="delivery-time">45:00</span></p>
            <a href="{% url 'index' %}" class="btn btn-primary">Go to the homepage</a>
        </div>
    </div>
</div>

<script>
// Countdown timer
var timer = 45 * 60; // 45 minutes in seconds

var interval = setInterval(function() {
    var minutes = Math.floor(timer / 60);
    var seconds = timer % 60;

    // Display timer
    document.getElementById('delivery-time').innerText = minutes.toString().padStart(2, '0') + ':' + seconds.toString().padStart(2, '0');

    // Decrement timer
    timer--;

    // Show different messages based on remaining time
    if (timer === 0) {
        clearInterval(interval);
        document.getElementById('delivery-time').innerText = 'Time\'s up!';
    } else if (timer === 60) {
        document.getElementById('delivery-time').innerText = '1 minute remaining!';
    } else if (timer === 30) {
        document.getElementById('delivery-time').innerText = '30 seconds remaining!';
    }
}, 1000); // Update timer every second
</script>
{% endblock content %}